{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Laptop Center\\\\Desktop\\\\just-another-todo-app-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Laptop Center\\\\Desktop\\\\just-another-todo-app-master\\\\src\\\\containers\\\\AppContainer.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport App from '../components/Layout/App';\nimport { LoadStateLocalStorage } from '../actions/LoadStateLocalStorage';\nimport { SaveStateLocalStorage } from '../actions/SaveStateLocalStorage';\nvar appPropTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    value: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    completed: PropTypes.bool.isRequired\n  }).isRequired).isRequired,\n  handleLoadStateLocalStorage: PropTypes.func.isRequired,\n  handleSaveStateLocalStorage: PropTypes.func.isRequired\n};\n\nvar AppContainer = function AppContainer(props) {\n  var handleLoadStateLocalStorage = props.handleLoadStateLocalStorage,\n      handleSaveStateLocalStorage = props.handleSaveStateLocalStorage,\n      items = props.items;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLocalStorageLoaded = _useState2[0],\n      setIsLocalStorageLoaded = _useState2[1];\n\n  var previousItemsLength = useRef(null);\n  useEffect(function () {\n    handleLoadStateLocalStorage();\n    setIsLocalStorageLoaded(true);\n  }, [handleLoadStateLocalStorage]);\n  useEffect(function () {\n    if (isLocalStorageLoaded) {\n      if (!previousItemsLength.current) {\n        previousItemsLength.current = -1;\n        return;\n      }\n\n      if (items.length !== previousItemsLength.current) {\n        handleSaveStateLocalStorage(items);\n\n        if (items.length === 0) {\n          previousItemsLength.current = -1;\n        } else {\n          previousItemsLength.current = items.length;\n        }\n      }\n    }\n  }, [handleSaveStateLocalStorage, items, isLocalStorageLoaded]);\n  return React.createElement(App, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  });\n};\n\nAppContainer.propTypes = appPropTypes;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    items: state.items\n  };\n};\n\nvar mapDispatchToProps = {\n  handleLoadStateLocalStorage: LoadStateLocalStorage,\n  handleSaveStateLocalStorage: SaveStateLocalStorage\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(AppContainer);","map":{"version":3,"sources":["C:\\Users\\Laptop Center\\Desktop\\just-another-todo-app-master\\src\\containers\\AppContainer.js"],"names":["React","useState","useEffect","useRef","PropTypes","connect","App","LoadStateLocalStorage","SaveStateLocalStorage","appPropTypes","items","arrayOf","shape","value","string","isRequired","id","completed","bool","handleLoadStateLocalStorage","func","handleSaveStateLocalStorage","AppContainer","props","isLocalStorageLoaded","setIsLocalStorageLoaded","previousItemsLength","current","length","propTypes","mapStateToProps","state","mapDispatchToProps"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAOC,GAAP,MAAgB,0BAAhB;AAEA,SAASC,qBAAT,QAAsC,kCAAtC;AACA,SAASC,qBAAT,QAAsC,kCAAtC;AAEA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAEN,SAAS,CAACO,OAAV,CACLP,SAAS,CAACQ,KAAV,CAAgB;AACdC,IAAAA,KAAK,EAAET,SAAS,CAACU,MAAV,CAAiBC,UADV;AAEdC,IAAAA,EAAE,EAAEZ,SAAS,CAACU,MAAV,CAAiBC,UAFP;AAGdE,IAAAA,SAAS,EAAEb,SAAS,CAACc,IAAV,CAAeH;AAHZ,GAAhB,EAIGA,UALE,EAMLA,UAPiB;AAQnBI,EAAAA,2BAA2B,EAAEf,SAAS,CAACgB,IAAV,CAAeL,UARzB;AASnBM,EAAAA,2BAA2B,EAAEjB,SAAS,CAACgB,IAAV,CAAeL;AATzB,CAArB;;AAYA,IAAMO,YAAY,GAAG,SAAfA,YAAe,CAAAC,KAAK,EAAI;AAAA,MACpBJ,2BADoB,GACgDI,KADhD,CACpBJ,2BADoB;AAAA,MACSE,2BADT,GACgDE,KADhD,CACSF,2BADT;AAAA,MACsCX,KADtC,GACgDa,KADhD,CACsCb,KADtC;;AAAA,kBAE4BT,QAAQ,CAAC,KAAD,CAFpC;AAAA;AAAA,MAErBuB,oBAFqB;AAAA,MAECC,uBAFD;;AAG5B,MAAMC,mBAAmB,GAAGvB,MAAM,CAAC,IAAD,CAAlC;AAEAD,EAAAA,SAAS,CAAC,YAAM;AACdiB,IAAAA,2BAA2B;AAC3BM,IAAAA,uBAAuB,CAAC,IAAD,CAAvB;AACD,GAHQ,EAGN,CAACN,2BAAD,CAHM,CAAT;AAKAjB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIsB,oBAAJ,EAA0B;AACxB,UAAI,CAACE,mBAAmB,CAACC,OAAzB,EAAkC;AAChCD,QAAAA,mBAAmB,CAACC,OAApB,GAA8B,CAAC,CAA/B;AACA;AACD;;AAED,UAAIjB,KAAK,CAACkB,MAAN,KAAiBF,mBAAmB,CAACC,OAAzC,EAAkD;AAChDN,QAAAA,2BAA2B,CAACX,KAAD,CAA3B;;AACA,YAAIA,KAAK,CAACkB,MAAN,KAAiB,CAArB,EAAwB;AACtBF,UAAAA,mBAAmB,CAACC,OAApB,GAA8B,CAAC,CAA/B;AACD,SAFD,MAEO;AACLD,UAAAA,mBAAmB,CAACC,OAApB,GAA8BjB,KAAK,CAACkB,MAApC;AACD;AACF;AACF;AACF,GAhBQ,EAgBN,CAACP,2BAAD,EAA8BX,KAA9B,EAAqCc,oBAArC,CAhBM,CAAT;AAkBA,SAAO,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CA7BD;;AA+BAF,YAAY,CAACO,SAAb,GAAyBpB,YAAzB;;AAEA,IAAMqB,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAChCrB,IAAAA,KAAK,EAAEqB,KAAK,CAACrB;AADmB,GAAL;AAAA,CAA7B;;AAIA,IAAMsB,kBAAkB,GAAG;AACzBb,EAAAA,2BAA2B,EAAEZ,qBADJ;AAEzBc,EAAAA,2BAA2B,EAAEb;AAFJ,CAA3B;AAKA,eAAeH,OAAO,CACpByB,eADoB,EAEpBE,kBAFoB,CAAP,CAGbV,YAHa,CAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport App from '../components/Layout/App';\n\nimport { LoadStateLocalStorage } from '../actions/LoadStateLocalStorage';\nimport { SaveStateLocalStorage } from '../actions/SaveStateLocalStorage';\n\nconst appPropTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      value: PropTypes.string.isRequired,\n      id: PropTypes.string.isRequired,\n      completed: PropTypes.bool.isRequired,\n    }).isRequired,\n  ).isRequired,\n  handleLoadStateLocalStorage: PropTypes.func.isRequired,\n  handleSaveStateLocalStorage: PropTypes.func.isRequired,\n};\n\nconst AppContainer = props => {\n  const { handleLoadStateLocalStorage, handleSaveStateLocalStorage, items } = props;\n  const [isLocalStorageLoaded, setIsLocalStorageLoaded] = useState(false);\n  const previousItemsLength = useRef(null);\n\n  useEffect(() => {\n    handleLoadStateLocalStorage();\n    setIsLocalStorageLoaded(true);\n  }, [handleLoadStateLocalStorage]);\n\n  useEffect(() => {\n    if (isLocalStorageLoaded) {\n      if (!previousItemsLength.current) {\n        previousItemsLength.current = -1;\n        return;\n      }\n\n      if (items.length !== previousItemsLength.current) {\n        handleSaveStateLocalStorage(items);\n        if (items.length === 0) {\n          previousItemsLength.current = -1;\n        } else {\n          previousItemsLength.current = items.length;\n        }\n      }\n    }\n  }, [handleSaveStateLocalStorage, items, isLocalStorageLoaded]);\n\n  return <App />;\n};\n\nAppContainer.propTypes = appPropTypes;\n\nconst mapStateToProps = state => ({\n  items: state.items,\n});\n\nconst mapDispatchToProps = {\n  handleLoadStateLocalStorage: LoadStateLocalStorage,\n  handleSaveStateLocalStorage: SaveStateLocalStorage,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(AppContainer);\n"]},"metadata":{},"sourceType":"module"}